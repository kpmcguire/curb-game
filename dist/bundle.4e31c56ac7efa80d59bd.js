!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}({4:function(e,t,i){"use strict";function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}i.r(t);var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"preload",value:function(){this.load.image("preloader","assets/images/loading_bar.png")}},{key:"create",value:function(){this.game.input.maxPointers=1,this.game.state.start("preload")}}])&&o(t.prototype,i),n&&o(t,n),e}();function r(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.asset=null,this.ready=!1}var t,i,o;return t=e,(i=[{key:"preload",value:function(){this.load.image("loading_bg","assets/images/loading_bg.png")}},{key:"create",value:function(){this.add.sprite(0,-100,"loading_bg"),this.asset=this.add.sprite(this.game.width/2,this.game.height/2,"preloader"),this.asset.anchor.setTo(.5,.5),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.load.spritesheet("player","assets/images/larry-sprite.png",150,230),this.load.spritesheet("mouse","assets/images/sprites/MouseSprite.png",165,160),this.load.image("gamebg","assets/images/Background.png"),this.load.tilemap("level1_k","assets/levels/level1_k.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("level2_k","assets/levels/level2_k.json",null,Phaser.Tilemap.TILED_JSON),this.load.spritesheet("kenney","assets/images/spritesheet_ground_extruded.png",128,128),this.load.image("coin","assets/images/coin.png"),this.load.image("scoreholder","assets/images/scoreholder.png"),this.load.image("sign","assets/images/sign.png"),this.load.image("gameover_bg","assets/images/gameover_bg.png"),this.load.image("bullet","assets/images/bullet.png"),this.load.audio("frolic","assets/sounds/frolic.mp3"),this.load.image("curb","assets/images/curb.png"),this.load.start()}},{key:"update",value:function(){this.ready&&this.game.state.start("game")}},{key:"onLoadComplete",value:function(){this.ready=!0}}])&&r(t.prototype,i),o&&r(t,o),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).apply(this,arguments))}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,Phaser.State),i=t,(o=[{key:"create",value:function(){this.game.score=0,this.game.state.start("CurbIntro")}}])&&l(i.prototype,o),n&&l(i,n),t}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e,i,o,n){var r,a,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(s=d(t).call(this,e,i,o,"player"))||"object"!==f(s)&&"function"!=typeof s?b(a):s).speed=400,r.airSpeed=300,r.jumpPower=1200,r.inAir=!0,r.hitGround=!1,r.game=e,r.animations.add("idle",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),r.animations.add("jump",[0,2]),r.landAnimation=r.animations.add("land",[6,0]),r.animations.add("run",[3,5]),r.animations.add("fire",[0,6]),r.game.physics.enable(b(r),Phaser.Physics.ARCADE),r.body.collideWorldBounds=!0,r.body.drag={x:600,y:0},r.body.tilePadding.x=100,r.body.tilePadding.y=100,r.anchor.set(.5,1),r.cursors=r.game.input.keyboard.createCursorKeys(),r.jumpButton=r.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),r.bulletGate=0,r.bullets=n,r.shotInterval=500,r.fireposition={x:0,y:-100},r.fireButton=r.game.input.keyboard.addKey(Phaser.Keyboard.Z),r.animations.play("idle",9,!0),r.flashEffect=r.game.add.tween(b(r)).to({alpha:0},50,Phaser.Easing.Bounce.Out).to({alpha:.8},50,Phaser.Easing.Bounce.Out).to({alpha:1},150,Phaser.Easing.Circular.Out),r.game.input.gamepad.start(),r.pad1=r.game.input.gamepad.pad1,r}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,Phaser.Sprite),i=t,(o=[{key:"animationState",value:function(){this.hitGround?this.animations.play("land",15):this.inAir||this.landAnimation.isPlaying||(Math.abs(this.body.velocity.x)>4?this.animations.play("run",9,!0):this.body.onFloor()&&this.animations.play("idle",9,!0))}},{key:"update",value:function(){this.hitGround=!1;var e=this.inAir;this.inAir=!this.body.onFloor(),this.inAir!=e&&this.body.velocity>0&&(this.hitGround=!0),this.animationState(),this.speedToUse=this.inAir?this.airSpeed:this.speed,(this.cursors.left.isDown||this.pad1.isDown(Phaser.Gamepad.XBOX360_DPAD_LEFT))&&(this.scale.x=-1,this.body.velocity.x=-this.speedToUse),(this.cursors.right.isDown||this.pad1.isDown(Phaser.Gamepad.XBOX360_DPAD_RIGHT))&&(this.scale.x=1,this.body.velocity.x=this.speedToUse),(this.fireButton.isDown||this.pad1.isDown(Phaser.Gamepad.XBOX360_A))&&this.fire(),(this.jumpButton.isDown||this.pad1.isDown(Phaser.Gamepad.XBOX360_B))&&this.jump()}},{key:"jump",value:function(){1==this.body.onFloor()?(this.body.velocity.y=-this.jumpPower,this.animations.play("jump",30),this.doubleJump=!0):1==this.doubleJump&&(this.doubleJump=!1,this.body.velocity.y=-this.jumpPower,this.animations.play("jump",30))}},{key:"flash",value:function(){this.flashEffect.isRunning||this.flashEffect.start()}},{key:"fire",value:function(){if(this.game.time.now>this.bulletGate){var e=this.bullets.getFirstDead();e?(e.x=this.x+this.fireposition.x,e.y=this.y+this.fireposition.y,e.revive()):(e=this.bullets.create(this.x+this.fireposition.x,this.y+this.fireposition.y,"bullet"),this.game.physics.enable(e,Phaser.Physics.ARCADE),e.outOfBoundsKill=!0,e.checkWorldBounds=!0,e.body.allowGravity=!1),e.body.velocity.x=2668*this.scale.x,this.animations.play("fire",9,!0),this.bulletGate=this.game.time.now+this.shotInterval}}}])&&y(i.prototype,o),n&&y(i,n),t}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=O(this,P(t).call(this))).levelName=e,i}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,Phaser.State),i=t,(o=[{key:"create",value:function(){this.game.plugins.add(Phaser.Plugin.ArcadeSlopes),this.time.advancedTiming=!0,this.game.stage.backgroundColor="#a9f0ff",this.physics.startSystem(Phaser.Physics.ARCADE),this.physics.arcade.gravity.y=800,this.physics.arcade.TILE_BIAS=40,this.map=this.add.tilemap(this.levelName),this.map.addTilesetImage("kenney","kenney"),this.layer=this.map.createLayer("collision"),this.map.setCollisionBetween(0,72,!0,this.layer),this.game.slopes.convertTilemapLayer(this.layer,"arcadeslopes",0),this.layer.resizeWorld(),this.bullets=this.add.group(),this.map.createFromObjects("Player","fox",null,null,!0,!1,this.world,g),this.player=this.world.getTop(),this.player.scale.x=1,this.player.scale.y=1,this.player.bullets=this.bullets,this.camera.follow(this.player),this.toggleDebug=!1,this.debugGate=0,this.toggleDebugKey=this.game.input.keyboard.addKey(Phaser.Keyboard.D),this.game.slopes.enable(this.player)}},{key:"update",value:function(){this.physics.arcade.collide(this.player,this.layer),this.physics.arcade.collide(this.enemies,this.layer),this.physics.arcade.overlap(this.player,this.coins,this.collectCoin,null,this),this.physics.arcade.overlap(this.player,this.doors,this.hitDoor,null,this),this.physics.arcade.collide(this.player,this.enemies,this.hitEnemy,null,this),this.physics.arcade.overlap(this.enemies,this.bullets,this.damageEnemy,null,this),this.toggleDebugKey.isDown&&this.game.time.now>this.debugGate&&(this.toggleDebug=!this.toggleDebug,this.debugGate=this.game.time.now+500)}},{key:"render",value:function(){this.toggleDebug&&(this.game.debug.spriteInfo(this.player,32,32),this.game.debug.body(this.player),this.game.debug.spriteBounds(this.player,"rgba(255, 100, 50, 0.2)"),this.game.debug.physicsGroup(this.bullets),this.layer.debug=!0)}},{key:"collectCoin",value:function(e,t){t.kill(),this.game.score++,this.scoreField.setValue(this.game.score),this.sfx.play("coin")}},{key:"hitDoor",value:function(e,t){this.game.state.clearCurrentState(),this.game.state.start(t[0].value)}},{key:"hitEnemy",value:function(e,t){e.flashEffect.isRunning||(e.flash(),this.sfx.play("hit"),this.game.score>0&&(this.game.score--,this.scoreField.setValue(this.game.score)))}},{key:"damageEnemy",value:function(e,t){e.kill(),t.kill()}}])&&w(i.prototype,o),n&&w(i,n),t}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,x(t).apply(this,arguments))}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,Phaser.State),i=t,(o=[{key:"create",value:function(){this.add.sprite(0,0,"gameover_bg"),this.txtValue=this.add.text(512,534,this.game.score.toString()+" points",{font:"30px Arial",align:"center",fill:"#fff"}),this.txtValue.anchor.setTo(.5,.5),this.game.input.onDown.addOnce(this.switchState,this)}},{key:"switchState",value:function(){this.game.score=0,this.state.start("Level1")}}])&&k(i.prototype,o),n&&k(i,n),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K,R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,G(t).apply(this,arguments))}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,Phaser.State),i=t,(o=[{key:"create",value:function(){var e=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"curb");this.game.add.audio("frolic").play(),e.anchor.setTo(.5),e.alpha=0,this.game.add.tween(e).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,2e3),this.game.time.events.add(8*Phaser.Timer.SECOND,(function(){this.game.state.start("Level1_K")}),this)}}])&&A(i.prototype,o),n&&A(i,n),t}();window.onload=function(){(K=new Phaser.Game(1024,768,Phaser.CANVAS,"game")).state.add("boot",n),K.state.add("preload",a),K.state.add("game",p),K.state.add("Level1_K",new S("level1_k")),K.state.add("Level1",new S("level1")),K.state.add("Level2",new S("level2")),K.state.add("CurbIntro",R),K.state.add("GameOver",D),K.state.start("boot")}}});
//# sourceMappingURL=bundle.4e31c56ac7efa80d59bd.js.map